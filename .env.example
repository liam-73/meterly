# Environment Variables for AWS Deployment
# Copy this file to .env and fill in your actual AWS resource ARNs/names

# =============================================================================
# API Service Environment Variables
# =============================================================================
# DynamoDB table for storing tenant records
TENANTS_TABLE=meterly-tenants

# DynamoDB table for storing API key hashes
API_KEYS_TABLE=meterly-api-keys

# SNS topic ARN for publishing domain events
EVENTS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:meterly-events

# =============================================================================
# Usage Service Environment Variables
# =============================================================================
# DynamoDB table for tracking monthly usage counters (uses composite key: tenantId#YYYY-MM)
USAGE_TABLE=meterly-usage

# DynamoDB table for idempotency tracking
PROCESSED_EVENTS_TABLE=meterly-processed-events

# Tenants table (same as API service)
# TENANTS_TABLE=meterly-tenants

# =============================================================================
# Billing Service Environment Variables
# =============================================================================
# Tenants table (same as API service)
# TENANTS_TABLE=meterly-tenants

# Usage table (same as usage service)
# USAGE_TABLE=meterly-usage

# DynamoDB table for storing invoice records
INVOICES_TABLE=meterly-invoices

# SNS topic ARN for publishing InvoiceCreated events (same as API service)
# EVENTS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:meterly-events

# =============================================================================
# Invoice Service Environment Variables
# =============================================================================
# Invoices table (same as billing service)
# INVOICES_TABLE=meterly-invoices

# Tenants table (same as API service)
# TENANTS_TABLE=meterly-tenants

# Processed events table (same as usage service)
# PROCESSED_EVENTS_TABLE=meterly-processed-events

# S3 bucket for storing generated PDF invoices
PDF_BUCKET=meterly-invoices

# SNS topic ARN for publishing InvoiceReady events (same as API service)
# EVENTS_TOPIC_ARN=arn:aws:sns:us-east-1:123456789012:meterly-events

# =============================================================================
# Webhook Service Environment Variables
# =============================================================================
# Tenants table (same as API service)
# TENANTS_TABLE=meterly-tenants

# Processed events table (same as usage service)
# PROCESSED_EVENTS_TABLE=meterly-processed-events

# =============================================================================
# AWS Region (used by all services)
# =============================================================================
AWS_REGION=us-east-1

# =============================================================================
# Notes:
# =============================================================================
# - Local development (pnpm dev) does not require these variables
# - Each Lambda function only needs its specific subset of variables
# - Commented variables are shared across multiple services
# - See CLAUDE.md for detailed environment variable documentation per service
